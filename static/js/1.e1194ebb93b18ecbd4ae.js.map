{"version":3,"sources":["webpack:///./~/babel-runtime/helpers/createClass.js?1dfe","webpack:///./~/core-js/library/modules/_ie8-dom-define.js?bd1f","webpack:///./~/babel-runtime/core-js/object/define-property.js?5f70","webpack:///./~/core-js/library/fn/object/define-property.js?b7d8","webpack:///./~/core-js/library/modules/es6.object.define-property.js?c82c","webpack:///./src/utils/util.js","webpack:///index.vue?a0b4","webpack:///./src/views/polygon/index.vue?1309","webpack:///./src/views/polygon/index.vue?8ab2","webpack:///./src/views/polygon/index.vue?11b2","webpack:///./src/views/polygon/index.vue","webpack:///./~/core-js/library/modules/_global.js?77aa","webpack:///./~/core-js/library/modules/_descriptors.js?7051","webpack:///./~/core-js/library/modules/_core.js?1b62","webpack:///./~/core-js/library/modules/_object-dp.js?4116","webpack:///./~/core-js/library/modules/_an-object.js?0da3","webpack:///./~/core-js/library/modules/_hide.js?a6da","webpack:///./~/core-js/library/modules/_is-object.js?24c8","webpack:///./~/core-js/library/modules/_fails.js?935d","webpack:///./~/core-js/library/modules/_ctx.js?ce00","webpack:///./~/core-js/library/modules/_export.js?ece2","webpack:///./~/core-js/library/modules/_property-desc.js?1e86","webpack:///./~/core-js/library/modules/_a-function.js?d53e","webpack:///./~/core-js/library/modules/_dom-create.js?ab44","webpack:///./~/core-js/library/modules/_to-primitive.js?49a4","webpack:///./~/vue-loader/lib/component-normalizer.js?d4f3","webpack:///./~/babel-runtime/helpers/classCallCheck.js?21af"],"names":["DateFormat","date","y","m","d","hh","mm","ss","init","Date","getFullYear","getMonth","getDate","getHours","getMinutes","getSeconds","fmt","o","test","replace","RegExp","$1","substr","length","k","formatTime"],"mappings":";;;;;;AAAA;;AAEA;;AAEA;;AAEA;;AAEA,sCAAsC,uCAAuC,gBAAgB;;AAE7F;AACA;AACA,mBAAmB,kBAAkB;AACrC;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,CAAC,G;;;;;;;AC1BD;AACA,qEAAsE,gBAAgB,UAAU,GAAG;AACnG,CAAC,E;;;;;;;ACFD,kBAAkB,yD;;;;;;;ACAlB;AACA;AACA;AACA;AACA,E;;;;;;;ACJA;AACA;AACA,qEAAuE,0CAA0C,E;;;;;;;;;;;;;;;;ICF3GA,U;AACJ,sBAAaC,IAAb,EAAmB;AAAA;;AACjB,SAAKA,IAAL,GAAYA,IAAZ;AACA,SAAKC,CAAL,GAAS,EAAT;AACA,SAAKC,CAAL,GAAS,EAAT;AACA,SAAKC,CAAL,GAAS,EAAT;AACA,SAAKC,EAAL,GAAU,EAAV;AACA,SAAKC,EAAL,GAAU,EAAV;AACA,SAAKC,EAAL,GAAU,EAAV;AACA,SAAKC,IAAL;AACD;;;;2BACO;AACN,UAAIP,OAAO,KAAKA,IAAL,GAAY,IAAIQ,IAAJ,CAAS,KAAKR,IAAd,CAAZ,GAAkC,IAAIQ,IAAJ,EAA7C;AACA,WAAKP,CAAL,GAASD,KAAKS,WAAL,EAAT;AACA,WAAKP,CAAL,GAASF,KAAKU,QAAL,KAAkB,CAA3B;AACA,WAAKP,CAAL,GAASH,KAAKW,OAAL,EAAT;AACA,WAAKP,EAAL,GAAUJ,KAAKY,QAAL,EAAV;AACA,WAAKP,EAAL,GAAUL,KAAKa,UAAL,EAAV;AACA,WAAKP,EAAL,GAAUN,KAAKc,UAAL,EAAV;AACD;;;2BACOC,G,EAAK;AACX,UAAIC,IAAI;AACN,cAAM,KAAKd,CADL;AAEN,cAAM,KAAKC,CAFL;AAGN,cAAM,KAAKC,EAHL;AAIN,cAAM,KAAKC,EAJL;AAKN,cAAM,KAAKC;AALL,OAAR;AAOA,UAAI,OAAOW,IAAP,CAAYF,GAAZ,CAAJ,EAAsBA,MAAMA,IAAIG,OAAJ,CAAYC,OAAOC,EAAnB,EAAuB,CAAC,KAAKnB,CAAL,GAAS,EAAV,EAAcoB,MAAd,CAAqB,IAAIF,OAAOC,EAAP,CAAUE,MAAnC,CAAvB,CAAN;AACtB,WAAK,IAAIC,CAAT,IAAcP,CAAd,EAAiB;AACf,YAAI,IAAIG,MAAJ,CAAW,MAAMI,CAAN,GAAU,GAArB,EAA0BN,IAA1B,CAA+BF,GAA/B,CAAJ,EAAyCA,MAAMA,IAAIG,OAAJ,CAAYC,OAAOC,EAAnB,EAAwBD,OAAOC,EAAP,CAAUE,MAAV,KAAqB,CAAtB,GAA4BN,EAAEO,CAAF,CAA5B,GAAqC,CAAC,OAAOP,EAAEO,CAAF,CAAR,EAAcF,MAAd,CAAqB,CAAC,KAAKL,EAAEO,CAAF,CAAN,EAAYD,MAAjC,CAA5D,CAAN;AAC1C;AACD,aAAOP,GAAP;AACD;;;;;;AAEH,SAASS,UAAT,CAAqBxB,IAArB,EAA2B;AACzB,SAAO,IAAID,UAAJ,CAAeC,IAAf,CAAP;AACD;;;;;;;;;;;;;;;;;;;;ACSD;;IACA;;AACA;;;;;;;;;;eACA;qBACA;uBACA;qBACA;gBACA;kBACA;kBACA;kBACA;AACA;;;;;AACA;;;oBACA;oBACA;eACA;gCACA;kCACA;sDACA;eACA;AACA;;;;AACA;;;yBACA;eACA;6BACA;AACA;;;8BACA;0CACA;oBACA;eACA;AACA;;;6BACA;0DACA;iDACA;qDACA;iBACA;AACA;4BACA;AACA;;;2BACA;eACA;AACA;;;;;;AACA;QAEA;wBACA;;mBAEA;oBACA;wBACA;wBACA;eACA;eACA;cACA;cACA;SACA;SACA;aACA;aACA;gBACA;sBACA;cACA;WACA;cACA;aACA;eACA;oBACA;WACA;eACA;eAEA;AAxBA;AAyBA;cACA;yCACA;+BACA;uCACA;8BACA;gBACA;yBACA;sCACA;kBACA;QACA;sGACA;cACA;AACA;6DACA;cACA;AACA;sGACA;cACA;AACA;sDACA;cACA;AACA;AACA;AACA;yCACA;+BACA;2CACA;mCACA;;;sDAEA;uBACA;AACA;;AACA;;iCACA;+BACA;+BACA;yEACA;uDACA;eACA;AACA;uBACA;mCACA;8BACA;0BACA;uBACA;AACA;gCACA;AACA;oCACA;2BACA;AACA;0CACA;iBACA;0CACA;2CACA;wDACA;+CACA;0BACA;AACA;+CACA;uDACA;gFACA;wBACA;4BACA;yCACA;yGACA;+BACA;AACA;8MACA;wBACA;AACA;;AACA;;iCACA;gDACA;8CACA;AACA;AACA;;AACA;;;oDACA;0BACA;qDACA;gDACA;AACA;4CACA;0BACA;8BACA;4BACA;AACA;gCACA;WACA;qDACA;yBACA;AACA;+BACA;mEACA,oCACA;AACA;oCACA;kDACA;AACA;;AACA;;kBACA;4CACA;mBACA;mBACA;oCACA;8GACA;+GACA;4CACA;4CACA;sBACA;AACA;AACA;AACA;iDACA;kBACA;QACA;sBACA;sBACA;yBACA;uBACA;uBACA;+BACA;aACA;iCACA;sBACA;oDACA;eACA;sBACA;iDACA;AACA;AACA;AACA;+CACA;8BACA;AACA;iDACA;QACA;mBACA;mBACA;4BACA;AACA;6CACA;WACA;AACA;mCACA;iCACA;wBACA;AACA;;AACA;;gBACA;sFACA;sBACA;8GACA;AACA;kDACA;oBACA;iCACA;iCACA;AACA;;AACA;;+CACA;oCACA;oCACA;AACA;AACA;gCACA;oBACA;AAEA;AA7IA;AAzDA,G;;;;;;;ACzFA;AACA;;;AAGA;AACA,4DAA6D,UAAU,kBAAkB,OAAO,QAAQ,MAAM,SAAS,WAAW,UAAU,YAAY,gBAAgB,sCAAsC,2OAA2O,sCAAsC,kBAAkB,yBAAyB,kBAAkB,MAAM,OAAO,8BAA8B,YAAY,2BAA2B,iBAAiB,2BAA2B,UAAU,QAAQ,geAAge,eAAe,uBAAuB,YAAY,aAAa,WAAW,cAAc,gBAAgB,eAAe,iBAAiB,qBAAqB,0CAA0C,0OAA0O,GAAG,yCAAyC,uBAAuB,GAAG,4BAA4B,uBAAuB,WAAW,YAAY,GAAG,iCAAiC,iBAAiB,GAAG,8BAA8B,sBAAsB,GAAG,8BAA8B,eAAe,GAAG,qBAAqB;;AAEj4D;;;;;;;;ACPA;;AAEA;AACA,qCAAyP;AACzP;AACA;AACA;AACA,gE;;;;;;;ACPA,gBAAgB,mBAAmB,aAAa,0BAA0B;AAC1E;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA,GAAG;AACH;AACA;AACA,GAAG;AACH;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA,GAAG;AACH;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH,CAAC,qB;;;;;;;ACpED;AACA,yBAAqT;AACrT;AACA;AACA;AACA;AACA;AACA,yBAAsG;AACtG;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;;;;;;;AChBA;AACA;AACA;AACA,uCAAuC,gC;;;;;;;ACHvC;AACA;AACA,iCAAiC,QAAQ,gBAAgB,UAAU,GAAG;AACtE,CAAC,E;;;;;;;ACHD,6BAA6B;AAC7B,qCAAqC,gC;;;;;;;ACDrC;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG,UAAU;AACb;AACA;AACA;AACA,E;;;;;;;ACfA;AACA;AACA;AACA;AACA,E;;;;;;;ACJA;AACA;AACA;AACA;AACA,CAAC;AACD;AACA;AACA,E;;;;;;;ACPA;AACA;AACA,E;;;;;;;ACFA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA,E;;;;;;;ACNA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,E;;;;;;;ACnBA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,mEAAmE;AACnE;AACA,qFAAqF;AACrF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW;AACX,SAAS;AACT;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA,+CAA+C;AAC/C;AACA;AACA;AACA;AACA;AACA;AACA,cAAc;AACd,cAAc;AACd,cAAc;AACd,cAAc;AACd,eAAe;AACf,eAAe;AACf,eAAe;AACf,gBAAgB;AAChB,yB;;;;;;;AC5DA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,E;;;;;;;ACPA;AACA;AACA;AACA,E;;;;;;;ACHA;AACA;AACA;AACA;AACA;AACA;AACA,E;;;;;;;ACNA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,E;;;;;;;ACXA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA,yBAAyB;AACzB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;AC1FA;;AAEA;;AAEA;AACA;AACA;AACA;AACA,E","file":"static/js/1.e1194ebb93b18ecbd4ae.js","sourcesContent":["\"use strict\";\n\nexports.__esModule = true;\n\nvar _defineProperty = require(\"../core-js/object/define-property\");\n\nvar _defineProperty2 = _interopRequireDefault(_defineProperty);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nexports.default = function () {\n  function defineProperties(target, props) {\n    for (var i = 0; i < props.length; i++) {\n      var descriptor = props[i];\n      descriptor.enumerable = descriptor.enumerable || false;\n      descriptor.configurable = true;\n      if (\"value\" in descriptor) descriptor.writable = true;\n      (0, _defineProperty2.default)(target, descriptor.key, descriptor);\n    }\n  }\n\n  return function (Constructor, protoProps, staticProps) {\n    if (protoProps) defineProperties(Constructor.prototype, protoProps);\n    if (staticProps) defineProperties(Constructor, staticProps);\n    return Constructor;\n  };\n}();\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/babel-runtime/helpers/createClass.js\n// module id = 100\n// module chunks = 0 1","module.exports = !require('./_descriptors') && !require('./_fails')(function(){\n  return Object.defineProperty(require('./_dom-create')('div'), 'a', {get: function(){ return 7; }}).a != 7;\n});\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/core-js/library/modules/_ie8-dom-define.js\n// module id = 101\n// module chunks = 0 1","module.exports = { \"default\": require(\"core-js/library/fn/object/define-property\"), __esModule: true };\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/babel-runtime/core-js/object/define-property.js\n// module id = 107\n// module chunks = 0 1","require('../../modules/es6.object.define-property');\nvar $Object = require('../../modules/_core').Object;\nmodule.exports = function defineProperty(it, key, desc){\n  return $Object.defineProperty(it, key, desc);\n};\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/core-js/library/fn/object/define-property.js\n// module id = 108\n// module chunks = 0 1","var $export = require('./_export');\n// 19.1.2.4 / 15.2.3.6 Object.defineProperty(O, P, Attributes)\n$export($export.S + $export.F * !require('./_descriptors'), 'Object', {defineProperty: require('./_object-dp').f});\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/core-js/library/modules/es6.object.define-property.js\n// module id = 117\n// module chunks = 0 1","class DateFormat {\n  constructor (date) {\n    this.date = date\n    this.y = ''\n    this.m = ''\n    this.d = ''\n    this.hh = ''\n    this.mm = ''\n    this.ss = ''\n    this.init()\n  }\n  init () {\n    let date = this.date ? new Date(this.date) : new Date()\n    this.y = date.getFullYear()\n    this.m = date.getMonth() + 1\n    this.d = date.getDate()\n    this.hh = date.getHours()\n    this.mm = date.getMinutes()\n    this.ss = date.getSeconds()\n  }\n  format (fmt) {\n    let o = {\n      'M+': this.m,\n      'd+': this.d,\n      'h+': this.hh,\n      'm+': this.mm,\n      's+': this.ss\n    }\n    if (/(y+)/.test(fmt)) fmt = fmt.replace(RegExp.$1, (this.y + '').substr(4 - RegExp.$1.length))\n    for (let k in o) {\n      if (new RegExp('(' + k + ')').test(fmt)) fmt = fmt.replace(RegExp.$1, (RegExp.$1.length === 1) ? (o[k]) : (('00' + o[k]).substr(('' + o[k]).length)))\n    }\n    return fmt\n  }\n}\nfunction formatTime (date) {\n  return new DateFormat(date)\n}\n\nexport {\n  formatTime\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/utils/util.js","/**\n* Created by newlmy on 2017/11/2.\n*/\n\n<template>\n  <div>\n    <div style=\"position: absolute; z-index: 99\">\n      <label for=\"file_input\" class=\"el-button el-button--primary\">\n        选择图片\n        <input type=\"file\" id=\"file_input\"  @change=\"uploadImg\" style=\"position:absolute;clip:rect(0 0 0 0);left: -1000px;top:0;\"/>\n      </label>\n      <el-button type=\"primary\">\n        打点数：{{currentPolygon && currentPolygon.dots.length > 0 ? currentPolygon.dots.length : 0}}\n      </el-button>\n      <span>\n        shift：切换拖拉/绘图；\n        command/ctrl+space: 闭合多边形，填充颜色；\n        command/ctrl+z：返回；\n        command/ctrl+d: 导出图片；\n      </span>\n    </div>\n    <div class=\"canvas-container\" ref=\"canvasContainer\">\n      <div\n        class=\"canvas-actual-layer\"\n        :class=\"{'cursor-move': moving}\"\n        :style=\"{\n                'width': imgBoxW + 'px',\n                'height': imgBoxH + 'px',\n                'transform': 'scale(' + scale + ',' + scale + ') ' + 'translate3d('+ x / scale + 'px,' + y / scale + 'px,' + '0)'\n                }\"\n        @mousedown=\"mousedownTarget\"\n        @mouseout=\"mouseoutTarget\"\n        @mousemove=\"mousemoveTarget\"\n        @mouseup=\"mouseupTarget\"\n        @mousewheel=\"scaleImg\"\n      >\n        <div class=\"canvas-bg-layer\">\n          <img :src=\"img\" alt=\"\" style=\"display:block\" ref=\"bgImg\">\n        </div>\n        <canvas id=\"canvas-layer\" class=\"canvas\" :width=\"imgBoxW\" :height=\"imgBoxH\"></canvas>\n      </div>\n    </div>\n  </div>\n</template>\n<script>\n  import {formatTime} from 'utils/util'\n  class Polygon {\n    constructor ({ctx, strokeStyle = 'red', fillStyle = 'rgba(135, 210, 3, .8)', dotRadius = 1}) {\n      this.ctx = ctx\n      this.dotRadius = dotRadius\n      this.strokeStyle = strokeStyle\n      this.fillStyle = fillStyle\n      this.dots = []\n      this.finish = false\n      this.startX = ''\n      this.startY = ''\n    }\n    startDraw ({x, y}) {\n      this.startX = x\n      this.startY = y\n      this.ctx.beginPath()\n      this.ctx.fillStyle = this.fillStyle\n      this.ctx.strokeStyle = this.strokeStyle\n      this.ctx.arc(x, y, this.dotRadius, 0, Math.PI * 2)\n      this.ctx.fill()\n    }\n    draw ({x, y}) {\n      this.ctx.lineTo(x, y)\n      this.ctx.stroke()\n      this.dots.push({x, y})\n    }\n    endDraw () {\n      this.draw({x: this.startX, y: this.startY})\n      this.finish = true\n      this.ctx.fill()\n    }\n    reDraw () {\n      this.startDraw({x: this.dots[0].x, y: this.dots[0].y})\n      for (let i = 1; i < this.dots.length; i++) {\n        this.ctx.lineTo(this.dots[i].x, this.dots[i].y)\n        this.ctx.stroke()\n      }\n      if (this.finish) this.endDraw()\n    }\n    save () {\n      this.ctx.save()\n    }\n  }\n  export default {\n    name: 'polygon',\n    data: () => {\n      return {\n        activeIndex: '1',\n        activeIndex2: '1',\n        canvasContainerW: '',\n        canvasContainerH: '',\n        imgBoxW: '',\n        imgBoxH: '',\n        startX: 0,\n        startY: 0,\n        x: 0,\n        y: 0,\n        moveX: 0,\n        moveY: 0,\n        polygons: [],\n        currentPolygon: '',\n        canvas: '',\n        ctx: '',\n        moving: false,\n        scale: 1,\n        editing: false,\n        retractCount: 0,\n        img: '',\n        imgName: '',\n        imgType: ''\n      }\n    },\n    components: {},\n    beforeCreate () {},\n    created () {},\n    beforeMount () {},\n    mounted () {\n      let _this = this\n      this.imgReload(_this.getCanvas)\n      document.onkeydown = function (e) {\n        console.log(e)\n        e.preventDefault()\n        if (e && (e.ctrlKey || e.metaKey) && e.keyCode === 32 && _this.editing && _this.currentPolygon) {\n          _this.finishPolygon()\n        }\n        if (e && (e.ctrlKey || e.metaKey) && e.keyCode === 68) {\n          _this.getCanvasImg()\n        }\n        if (e && (e.ctrlKey || e.metaKey) && e.keyCode === 90 && _this.editing && _this.currentPolygon) {\n          _this.retract()\n        }\n        if (e && e.key === 'Shift' || e.keyCode === 16) {\n          _this.clickEdit()\n        }\n      }\n    },\n    beforeUpdate () {},\n    updated () {},\n    beforeDestroy () {},\n    destroyed () {},\n    methods: {\n      handleSelect (key, keyPath) {\n        console.log(key, keyPath)\n      },\n      uploadImg (e) {\n        this.file = e.target.files[0]\n        this.imgType = this.file.type\n        this.imgName = this.file.name\n        if (!/\\.(gif|jpg|jpeg|png|bmp|GIF|JPG|PNG)$/.test(e.target.value)) {\n          this.$alert('请选择以下图片类型：.gif/jpeg/jpg/png/bmp', '提示')\n          return false\n        }\n        var reader = new FileReader()\n        reader.onload = (e) => {\n          this.img = e.target.result\n          this.polygons = []\n          this.scale = 1\n        }\n        reader.readAsDataURL(this.file)\n      },\n      clickEdit () {\n        this.editing = !this.editing\n      },\n      getCanvasImg () {\n        let type = 'jpeg'\n        let imgdata = this.canvas.toDataURL('image/png')\n        let fixtype = function (type) {\n          type = type.toLocaleLowerCase().replace(/jpg/i, 'jpeg')\n          let r = type.match(/png|jpeg|bmp|gif/)[0]\n          return 'image/' + r\n        }\n        imgdata = imgdata.replace(fixtype(type), 'image/octet-stream')\n        let savaFile = function (data, filename) {\n          let saveLink = document.createElementNS('http://www.w3.org/1999/xhtml', 'a')\n          saveLink.href = data\n          saveLink.download = filename\n          let event = document.createEvent('MouseEvents')\n          event.initMouseEvent('click', true, false, window, 0, 0, 0, 0, 0, false, false, false, false, 0, null)\n          saveLink.dispatchEvent(event)\n        }\n        let filename = '' + this.imgName.substring(0, this.imgName.lastIndexOf('.')) + '.' + formatTime().format('yyyyMMdd') + '.' + type\n        savaFile(imgdata, filename)\n      },\n      getCanvas () {\n        this.$nextTick(() => {\n          this.canvas = document.getElementById('canvas-layer')\n          this.ctx = this.canvas.getContext('2d')\n        })\n      },\n      createPolygon ({offsetX, offsetY}) {\n        this.currentPolygon = new Polygon({ctx: this.ctx})\n        this.currentPolygon.save()\n        this.currentPolygon.startDraw({x: offsetX, y: offsetY})\n        this.currentPolygon.draw({x: offsetX, y: offsetY})\n      },\n      finishPolygon () {\n        this.currentPolygon.endDraw()\n        this.polygons.push(this.currentPolygon)\n        this.currentPolygon = ''\n      },\n      retract () {\n        this.clearRect()\n        for (let i = 0; i < this.polygons.length; i++) {\n          this.polygons[i].reDraw()\n        }\n        this.currentPolygon.dots.pop()\n        if (this.currentPolygon.dots.length > 0) this.currentPolygon.reDraw()\n        else this.currentPolygon = ''\n      },\n      clearRect () {\n        this.ctx.clearRect(0, 0, this.imgBoxW, this.imgBoxH)\n      },\n      imgReload (callback) {\n        let _this = this\n        this.$refs.bgImg.onload = () => {\n          this.x = 0\n          this.y = 0\n          _this.$nextTick(function () {\n            _this.canvasContainerW = ~~(window.getComputedStyle(_this.$refs.canvasContainer).width.replace('px', ''))\n            _this.canvasContainerH = ~~(window.getComputedStyle(_this.$refs.canvasContainer).height.replace('px', ''))\n            _this.imgBoxW = _this.$refs.bgImg.width\n            _this.imgBoxH = _this.$refs.bgImg.height\n            callback && callback()\n          })\n        }\n      },\n      mousedownTarget (e) {\n        console.log(324324)\n        e.preventDefault()\n        let offsetX = e.offsetX\n        let offsetY = e.offsetY\n        if (!this.editing) {\n          let startX = e.clientX\n          let startY = e.clientY\n          this.startMove(startX, startY)\n        } else {\n          if (this.currentPolygon) {\n            console.log(1111)\n            this.currentPolygon.draw({x: offsetX, y: offsetY})\n          } else {\n            console.log(222)\n            this.createPolygon({offsetX, offsetY})\n          }\n        }\n      },\n      mouseoutTarget (e) {\n        if (!this.editing) this.endMove()\n      },\n      mousemoveTarget (e) {\n        e.preventDefault()\n        let nowX = e.clientX\n        let nowY = e.clientY\n        this.move(nowX, nowY, this)\n      },\n      mouseupTarget (e) {\n        this.endMove()\n      },\n      scaleImg (e) {\n        let change = e.deltaY || e.wheelDelta\n        this.changeSize({change})\n      },\n      changeSize ({change}) {\n        let coe = 0.2\n        coe = coe / this.imgBoxW > coe / this.imgBoxH ? coe / this.imgBoxH : coe / this.imgBoxW\n        let num = coe * change\n        num < 0 ? this.scale += Math.abs(num) : this.scale > Math.abs(num) ? this.scale -= Math.abs(num) : this.scale\n      },\n      startMove (startX, startY) {\n        this.moving = true\n        this.moveX = startX - this.x\n        this.moveY = startY - this.y\n      },\n      move (nowX, nowY, vue) {\n        this.moving && vue.$nextTick(() => {\n          this.x = ~~(nowX - this.moveX)\n          this.y = ~~(nowY - this.moveY)\n        })\n      },\n      endMove () {\n        this.moving = false\n      }\n    }\n  }\n</script>\n<style scoped>\n  .canvas-container {\n    color: red;\n    position: absolute;\n    left: 0;\n    right: 0;\n    top: 0;\n    bottom: 0;\n    height: 90%;\n    width: 90%;\n    margin: auto;\n    overflow: hidden;\n    background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQAQMAAAAlPW0iAAAAA3NCSVQICAjb4U/gAAAABlBMVEXMzMz////TjRV2AAAACXBIWXMAAArrAAAK6wGCiw1aAAAAHHRFWHRTb2Z0d2FyZQBBZG9iZSBGaXJld29ya3MgQ1M26LyyjAAAABFJREFUCJlj+M/AgBVhF/0PAH6/D/HkDxOGAAAAAElFTkSuQmCC');\n  }\n  .canvas-actual-layer {\n    position: relative;\n  }\n  .canvas {\n    position: absolute;\n    top: 0;\n    left: 0;\n  }\n  .cursor-move {\n    cursor: move;\n  }\n  .img-draw {\n    cursor: crosshair;\n  }\n  #ui-layer {\n    z-index: 3;\n  }\n</style>\n\n\n\n// WEBPACK FOOTER //\n// index.vue?634be764","exports = module.exports = require(\"../../../node_modules/css-loader/lib/css-base.js\")(true);\n// imports\n\n\n// module\nexports.push([module.id, \".canvas-container[data-v-2297f758]{color:red;position:absolute;left:0;right:0;top:0;bottom:0;height:90%;width:90%;margin:auto;overflow:hidden;background-image:url(\\\"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQAQMAAAAlPW0iAAAAA3NCSVQICAjb4U/gAAAABlBMVEXMzMz////TjRV2AAAACXBIWXMAAArrAAAK6wGCiw1aAAAAHHRFWHRTb2Z0d2FyZQBBZG9iZSBGaXJld29ya3MgQ1M26LyyjAAAABFJREFUCJlj+M/AgBVhF/0PAH6/D/HkDxOGAAAAAElFTkSuQmCC\\\")}.canvas-actual-layer[data-v-2297f758]{position:relative}.canvas[data-v-2297f758]{position:absolute;top:0;left:0}.cursor-move[data-v-2297f758]{cursor:move}.img-draw[data-v-2297f758]{cursor:crosshair}#ui-layer[data-v-2297f758]{z-index:3}\", \"\", {\"version\":3,\"sources\":[\"/Applications/XAMPP/xamppfiles/htdocs/XaircraftProject/web/AI/src/views/polygon/index.vue\"],\"names\":[],\"mappings\":\"AACA,mCACE,UAAW,AACX,kBAAmB,AACnB,OAAQ,AACR,QAAS,AACT,MAAO,AACP,SAAU,AACV,WAAY,AACZ,UAAW,AACX,YAAa,AACb,gBAAiB,AACjB,8QAAgR,CACjR,AACD,sCACE,iBAAmB,CACpB,AACD,yBACE,kBAAmB,AACnB,MAAO,AACP,MAAQ,CACT,AACD,8BACE,WAAa,CACd,AACD,2BACE,gBAAkB,CACnB,AACD,2BACE,SAAW,CACZ\",\"file\":\"index.vue\",\"sourcesContent\":[\"\\n.canvas-container[data-v-2297f758] {\\n  color: red;\\n  position: absolute;\\n  left: 0;\\n  right: 0;\\n  top: 0;\\n  bottom: 0;\\n  height: 90%;\\n  width: 90%;\\n  margin: auto;\\n  overflow: hidden;\\n  background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQAQMAAAAlPW0iAAAAA3NCSVQICAjb4U/gAAAABlBMVEXMzMz////TjRV2AAAACXBIWXMAAArrAAAK6wGCiw1aAAAAHHRFWHRTb2Z0d2FyZQBBZG9iZSBGaXJld29ya3MgQ1M26LyyjAAAABFJREFUCJlj+M/AgBVhF/0PAH6/D/HkDxOGAAAAAElFTkSuQmCC');\\n}\\n.canvas-actual-layer[data-v-2297f758] {\\n  position: relative;\\n}\\n.canvas[data-v-2297f758] {\\n  position: absolute;\\n  top: 0;\\n  left: 0;\\n}\\n.cursor-move[data-v-2297f758] {\\n  cursor: move;\\n}\\n.img-draw[data-v-2297f758] {\\n  cursor: crosshair;\\n}\\n#ui-layer[data-v-2297f758] {\\n  z-index: 3;\\n}\\n\"],\"sourceRoot\":\"\"}]);\n\n// exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/css-loader?{\"minimize\":true,\"sourceMap\":true}!./~/vue-loader/lib/style-compiler?{\"vue\":true,\"id\":\"data-v-2297f758\",\"scoped\":true,\"hasInlineConfig\":true}!./~/vue-loader/lib/selector.js?type=styles&index=0!./src/views/polygon/index.vue\n// module id = 201\n// module chunks = 1","// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!../../../node_modules/css-loader/index.js?{\\\"minimize\\\":true,\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/style-compiler/index.js?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-2297f758\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":true}!../../../node_modules/vue-loader/lib/selector.js?type=styles&index=0!./index.vue\");\nif(typeof content === 'string') content = [[module.id, content, '']];\nif(content.locals) module.exports = content.locals;\n// add the styles to the DOM\nvar update = require(\"!../../../node_modules/vue-style-loader/lib/addStylesClient.js\")(\"30cd88d0\", content, true);\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/extract-text-webpack-plugin/loader.js?{\"omit\":1,\"remove\":true}!./~/vue-style-loader!./~/css-loader?{\"minimize\":true,\"sourceMap\":true}!./~/vue-loader/lib/style-compiler?{\"vue\":true,\"id\":\"data-v-2297f758\",\"scoped\":true,\"hasInlineConfig\":true}!./~/vue-loader/lib/selector.js?type=styles&index=0!./src/views/polygon/index.vue\n// module id = 204\n// module chunks = 1","module.exports={render:function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n  return _c('div', [_c('div', {\n    staticStyle: {\n      \"position\": \"absolute\",\n      \"z-index\": \"99\"\n    }\n  }, [_c('label', {\n    staticClass: \"el-button el-button--primary\",\n    attrs: {\n      \"for\": \"file_input\"\n    }\n  }, [_vm._v(\"\\n      选择图片\\n      \"), _c('input', {\n    staticStyle: {\n      \"position\": \"absolute\",\n      \"clip\": \"rect(0 0 0 0)\",\n      \"left\": \"-1000px\",\n      \"top\": \"0\"\n    },\n    attrs: {\n      \"type\": \"file\",\n      \"id\": \"file_input\"\n    },\n    on: {\n      \"change\": _vm.uploadImg\n    }\n  })]), _vm._v(\" \"), _c('el-button', {\n    attrs: {\n      \"type\": \"primary\"\n    }\n  }, [_vm._v(\"\\n      打点数：\" + _vm._s(_vm.currentPolygon && _vm.currentPolygon.dots.length > 0 ? _vm.currentPolygon.dots.length : 0) + \"\\n    \")]), _vm._v(\" \"), _c('span', [_vm._v(\"\\n      shift：切换拖拉/绘图；\\n      command/ctrl+space: 闭合多边形，填充颜色；\\n      command/ctrl+z：返回；\\n      command/ctrl+d: 导出图片；\\n    \")])], 1), _vm._v(\" \"), _c('div', {\n    ref: \"canvasContainer\",\n    staticClass: \"canvas-container\"\n  }, [_c('div', {\n    staticClass: \"canvas-actual-layer\",\n    class: {\n      'cursor-move': _vm.moving\n    },\n    style: ({\n      'width': _vm.imgBoxW + 'px',\n      'height': _vm.imgBoxH + 'px',\n      'transform': 'scale(' + _vm.scale + ',' + _vm.scale + ') ' + 'translate3d(' + _vm.x / _vm.scale + 'px,' + _vm.y / _vm.scale + 'px,' + '0)'\n    }),\n    on: {\n      \"mousedown\": _vm.mousedownTarget,\n      \"mouseout\": _vm.mouseoutTarget,\n      \"mousemove\": _vm.mousemoveTarget,\n      \"mouseup\": _vm.mouseupTarget,\n      \"mousewheel\": _vm.scaleImg\n    }\n  }, [_c('div', {\n    staticClass: \"canvas-bg-layer\"\n  }, [_c('img', {\n    ref: \"bgImg\",\n    staticStyle: {\n      \"display\": \"block\"\n    },\n    attrs: {\n      \"src\": _vm.img,\n      \"alt\": \"\"\n    }\n  })]), _vm._v(\" \"), _c('canvas', {\n    staticClass: \"canvas\",\n    attrs: {\n      \"id\": \"canvas-layer\",\n      \"width\": _vm.imgBoxW,\n      \"height\": _vm.imgBoxH\n    }\n  })])])])\n},staticRenderFns: []}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/vue-loader/lib/template-compiler?{\"id\":\"data-v-2297f758\"}!./~/vue-loader/lib/selector.js?type=template&index=0!./src/views/polygon/index.vue\n// module id = 209\n// module chunks = 1","function injectStyle (ssrContext) {\n  require(\"!!../../../node_modules/extract-text-webpack-plugin/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"minimize\\\":true,\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-2297f758\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":true}!../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./index.vue\")\n}\nvar Component = require(\"!../../../node_modules/vue-loader/lib/component-normalizer\")(\n  /* script */\n  require(\"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./index.vue\"),\n  /* template */\n  require(\"!!../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-2297f758\\\"}!../../../node_modules/vue-loader/lib/selector?type=template&index=0!./index.vue\"),\n  /* styles */\n  injectStyle,\n  /* scopeId */\n  \"data-v-2297f758\",\n  /* moduleIdentifier (server only) */\n  null\n)\n\nmodule.exports = Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/views/polygon/index.vue\n// module id = 75\n// module chunks = 1","// https://github.com/zloirock/core-js/issues/86#issuecomment-115759028\nvar global = module.exports = typeof window != 'undefined' && window.Math == Math\n  ? window : typeof self != 'undefined' && self.Math == Math ? self : Function('return this')();\nif(typeof __g == 'number')__g = global; // eslint-disable-line no-undef\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/core-js/library/modules/_global.js\n// module id = 78\n// module chunks = 0 1","// Thank's IE8 for his funny defineProperty\nmodule.exports = !require('./_fails')(function(){\n  return Object.defineProperty({}, 'a', {get: function(){ return 7; }}).a != 7;\n});\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/core-js/library/modules/_descriptors.js\n// module id = 79\n// module chunks = 0 1","var core = module.exports = {version: '2.4.0'};\nif(typeof __e == 'number')__e = core; // eslint-disable-line no-undef\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/core-js/library/modules/_core.js\n// module id = 82\n// module chunks = 0 1","var anObject       = require('./_an-object')\n  , IE8_DOM_DEFINE = require('./_ie8-dom-define')\n  , toPrimitive    = require('./_to-primitive')\n  , dP             = Object.defineProperty;\n\nexports.f = require('./_descriptors') ? Object.defineProperty : function defineProperty(O, P, Attributes){\n  anObject(O);\n  P = toPrimitive(P, true);\n  anObject(Attributes);\n  if(IE8_DOM_DEFINE)try {\n    return dP(O, P, Attributes);\n  } catch(e){ /* empty */ }\n  if('get' in Attributes || 'set' in Attributes)throw TypeError('Accessors not supported!');\n  if('value' in Attributes)O[P] = Attributes.value;\n  return O;\n};\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/core-js/library/modules/_object-dp.js\n// module id = 83\n// module chunks = 0 1","var isObject = require('./_is-object');\nmodule.exports = function(it){\n  if(!isObject(it))throw TypeError(it + ' is not an object!');\n  return it;\n};\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/core-js/library/modules/_an-object.js\n// module id = 84\n// module chunks = 0 1","var dP         = require('./_object-dp')\n  , createDesc = require('./_property-desc');\nmodule.exports = require('./_descriptors') ? function(object, key, value){\n  return dP.f(object, key, createDesc(1, value));\n} : function(object, key, value){\n  object[key] = value;\n  return object;\n};\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/core-js/library/modules/_hide.js\n// module id = 85\n// module chunks = 0 1","module.exports = function(it){\n  return typeof it === 'object' ? it !== null : typeof it === 'function';\n};\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/core-js/library/modules/_is-object.js\n// module id = 86\n// module chunks = 0 1","module.exports = function(exec){\n  try {\n    return !!exec();\n  } catch(e){\n    return true;\n  }\n};\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/core-js/library/modules/_fails.js\n// module id = 87\n// module chunks = 0 1","// optional / simple context binding\nvar aFunction = require('./_a-function');\nmodule.exports = function(fn, that, length){\n  aFunction(fn);\n  if(that === undefined)return fn;\n  switch(length){\n    case 1: return function(a){\n      return fn.call(that, a);\n    };\n    case 2: return function(a, b){\n      return fn.call(that, a, b);\n    };\n    case 3: return function(a, b, c){\n      return fn.call(that, a, b, c);\n    };\n  }\n  return function(/* ...args */){\n    return fn.apply(that, arguments);\n  };\n};\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/core-js/library/modules/_ctx.js\n// module id = 90\n// module chunks = 0 1","var global    = require('./_global')\n  , core      = require('./_core')\n  , ctx       = require('./_ctx')\n  , hide      = require('./_hide')\n  , PROTOTYPE = 'prototype';\n\nvar $export = function(type, name, source){\n  var IS_FORCED = type & $export.F\n    , IS_GLOBAL = type & $export.G\n    , IS_STATIC = type & $export.S\n    , IS_PROTO  = type & $export.P\n    , IS_BIND   = type & $export.B\n    , IS_WRAP   = type & $export.W\n    , exports   = IS_GLOBAL ? core : core[name] || (core[name] = {})\n    , expProto  = exports[PROTOTYPE]\n    , target    = IS_GLOBAL ? global : IS_STATIC ? global[name] : (global[name] || {})[PROTOTYPE]\n    , key, own, out;\n  if(IS_GLOBAL)source = name;\n  for(key in source){\n    // contains in native\n    own = !IS_FORCED && target && target[key] !== undefined;\n    if(own && key in exports)continue;\n    // export native or passed\n    out = own ? target[key] : source[key];\n    // prevent global pollution for namespaces\n    exports[key] = IS_GLOBAL && typeof target[key] != 'function' ? source[key]\n    // bind timers to global for call from export context\n    : IS_BIND && own ? ctx(out, global)\n    // wrap global constructors for prevent change them in library\n    : IS_WRAP && target[key] == out ? (function(C){\n      var F = function(a, b, c){\n        if(this instanceof C){\n          switch(arguments.length){\n            case 0: return new C;\n            case 1: return new C(a);\n            case 2: return new C(a, b);\n          } return new C(a, b, c);\n        } return C.apply(this, arguments);\n      };\n      F[PROTOTYPE] = C[PROTOTYPE];\n      return F;\n    // make static versions for prototype methods\n    })(out) : IS_PROTO && typeof out == 'function' ? ctx(Function.call, out) : out;\n    // export proto methods to core.%CONSTRUCTOR%.methods.%NAME%\n    if(IS_PROTO){\n      (exports.virtual || (exports.virtual = {}))[key] = out;\n      // export proto methods to core.%CONSTRUCTOR%.prototype.%NAME%\n      if(type & $export.R && expProto && !expProto[key])hide(expProto, key, out);\n    }\n  }\n};\n// type bitmap\n$export.F = 1;   // forced\n$export.G = 2;   // global\n$export.S = 4;   // static\n$export.P = 8;   // proto\n$export.B = 16;  // bind\n$export.W = 32;  // wrap\n$export.U = 64;  // safe\n$export.R = 128; // real proto method for `library` \nmodule.exports = $export;\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/core-js/library/modules/_export.js\n// module id = 91\n// module chunks = 0 1","module.exports = function(bitmap, value){\n  return {\n    enumerable  : !(bitmap & 1),\n    configurable: !(bitmap & 2),\n    writable    : !(bitmap & 4),\n    value       : value\n  };\n};\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/core-js/library/modules/_property-desc.js\n// module id = 92\n// module chunks = 0 1","module.exports = function(it){\n  if(typeof it != 'function')throw TypeError(it + ' is not a function!');\n  return it;\n};\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/core-js/library/modules/_a-function.js\n// module id = 93\n// module chunks = 0 1","var isObject = require('./_is-object')\n  , document = require('./_global').document\n  // in old IE typeof document.createElement is 'object'\n  , is = isObject(document) && isObject(document.createElement);\nmodule.exports = function(it){\n  return is ? document.createElement(it) : {};\n};\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/core-js/library/modules/_dom-create.js\n// module id = 95\n// module chunks = 0 1","// 7.1.1 ToPrimitive(input [, PreferredType])\nvar isObject = require('./_is-object');\n// instead of the ES6 spec version, we didn't implement @@toPrimitive case\n// and the second argument - flag - preferred type is a string\nmodule.exports = function(it, S){\n  if(!isObject(it))return it;\n  var fn, val;\n  if(S && typeof (fn = it.toString) == 'function' && !isObject(val = fn.call(it)))return val;\n  if(typeof (fn = it.valueOf) == 'function' && !isObject(val = fn.call(it)))return val;\n  if(!S && typeof (fn = it.toString) == 'function' && !isObject(val = fn.call(it)))return val;\n  throw TypeError(\"Can't convert object to primitive value\");\n};\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/core-js/library/modules/_to-primitive.js\n// module id = 97\n// module chunks = 0 1","/* globals __VUE_SSR_CONTEXT__ */\n\n// this module is a runtime utility for cleaner component module output and will\n// be included in the final webpack user bundle\n\nmodule.exports = function normalizeComponent (\n  rawScriptExports,\n  compiledTemplate,\n  injectStyles,\n  scopeId,\n  moduleIdentifier /* server only */\n) {\n  var esModule\n  var scriptExports = rawScriptExports = rawScriptExports || {}\n\n  // ES6 modules interop\n  var type = typeof rawScriptExports.default\n  if (type === 'object' || type === 'function') {\n    esModule = rawScriptExports\n    scriptExports = rawScriptExports.default\n  }\n\n  // Vue.extend constructor export interop\n  var options = typeof scriptExports === 'function'\n    ? scriptExports.options\n    : scriptExports\n\n  // render functions\n  if (compiledTemplate) {\n    options.render = compiledTemplate.render\n    options.staticRenderFns = compiledTemplate.staticRenderFns\n  }\n\n  // scopedId\n  if (scopeId) {\n    options._scopeId = scopeId\n  }\n\n  var hook\n  if (moduleIdentifier) { // server build\n    hook = function (context) {\n      // 2.3 injection\n      context =\n        context || // cached call\n        (this.$vnode && this.$vnode.ssrContext) || // stateful\n        (this.parent && this.parent.$vnode && this.parent.$vnode.ssrContext) // functional\n      // 2.2 with runInNewContext: true\n      if (!context && typeof __VUE_SSR_CONTEXT__ !== 'undefined') {\n        context = __VUE_SSR_CONTEXT__\n      }\n      // inject component styles\n      if (injectStyles) {\n        injectStyles.call(this, context)\n      }\n      // register component module identifier for async chunk inferrence\n      if (context && context._registeredComponents) {\n        context._registeredComponents.add(moduleIdentifier)\n      }\n    }\n    // used by ssr in case component is cached and beforeCreate\n    // never gets called\n    options._ssrRegister = hook\n  } else if (injectStyles) {\n    hook = injectStyles\n  }\n\n  if (hook) {\n    var functional = options.functional\n    var existing = functional\n      ? options.render\n      : options.beforeCreate\n    if (!functional) {\n      // inject component registration as beforeCreate hook\n      options.beforeCreate = existing\n        ? [].concat(existing, hook)\n        : [hook]\n    } else {\n      // register for functioal component in vue file\n      options.render = function renderWithStyleInjection (h, context) {\n        hook.call(context)\n        return existing(h, context)\n      }\n    }\n  }\n\n  return {\n    esModule: esModule,\n    exports: scriptExports,\n    options: options\n  }\n}\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/vue-loader/lib/component-normalizer.js\n// module id = 98\n// module chunks = 0 1 2","\"use strict\";\n\nexports.__esModule = true;\n\nexports.default = function (instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n};\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/babel-runtime/helpers/classCallCheck.js\n// module id = 99\n// module chunks = 0 1"],"sourceRoot":""}